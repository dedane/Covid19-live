{"remainingRequest":"/home/makashima/Documents/code/covid/node_modules/babel-loader/lib/index.js!/home/makashima/Documents/code/covid/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/home/makashima/Documents/code/covid/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/makashima/Documents/code/covid/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/makashima/Documents/code/covid/node_modules/vue-mapbox/src/components/UI/Marker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/makashima/Documents/code/covid/node_modules/vue-mapbox/src/components/UI/Marker.vue","mtime":499162500000},{"path":"/home/makashima/Documents/code/covid/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/makashima/Documents/code/covid/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/makashima/Documents/code/covid/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/makashima/Documents/code/covid/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/makashima/Documents/code/covid/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9tYWthc2hpbWEvRG9jdW1lbnRzL2NvZGUvY292aWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgd2l0aEV2ZW50cyBmcm9tICIuLi8uLi9saWIvd2l0aEV2ZW50cyI7CmltcG9ydCB3aXRoU2VsZkV2ZW50cyBmcm9tICIuL3dpdGhTZWxmRXZlbnRzIjsKdmFyIG1hcmtlckV2ZW50cyA9IHsKICBkcmFnOiAiZHJhZyIsCiAgZHJhZ3N0YXJ0OiAiZHJhZ3N0YXJ0IiwKICBkcmFnZW5kOiAiZHJhZ2VuZCIKfTsKdmFyIG1hcmtlckRPTUV2ZW50cyA9IHsKICBjbGljazogImNsaWNrIiwKICBtb3VzZWVudGVyOiAibW91c2VlbnRlciIsCiAgbW91c2VsZWF2ZTogIm1vdXNlbGVhdmUiCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFwTWFya2VyIiwKICBtaXhpbnM6IFt3aXRoRXZlbnRzLCB3aXRoU2VsZkV2ZW50c10sCiAgaW5qZWN0OiBbIm1hcGJveCIsICJtYXAiXSwKICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgcmV0dXJuIHsKICAgICAgZ2V0IG1hcmtlcigpIHsKICAgICAgICByZXR1cm4gc2VsZi5tYXJrZXI7CiAgICAgIH0KCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIC8vIG1hcGJveCBtYXJrZXIgb3B0aW9ucwogICAgb2Zmc2V0OiB7CiAgICAgIHR5cGU6IFtPYmplY3QsIEFycmF5XSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFswLCAwXTsKICAgICAgfQogICAgfSwKICAgIGNvb3JkaW5hdGVzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNvbG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIGFuY2hvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJjZW50ZXIiCiAgICB9LAogICAgZHJhZ2dhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5pdGlhbDogdHJ1ZSwKICAgICAgbWFya2VyOiB1bmRlZmluZWQKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY29vcmRpbmF0ZXM6IGZ1bmN0aW9uIGNvb3JkaW5hdGVzKGxuZ0xhdCkgewogICAgICBpZiAodGhpcy5pbml0aWFsKSByZXR1cm47CiAgICAgIHRoaXMubWFya2VyLnNldExuZ0xhdChsbmdMYXQpOwogICAgfSwKICAgIGRyYWdnYWJsZTogZnVuY3Rpb24gZHJhZ2dhYmxlKG5leHQpIHsKICAgICAgaWYgKHRoaXMuaW5pdGlhbCkgcmV0dXJuOwogICAgICB0aGlzLm1hcmtlci5zZXREcmFnZ2FibGUobmV4dCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgbWFya2VyT3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuJHByb3BzKTsKCiAgICBpZiAodGhpcy4kc2xvdHMubWFya2VyKSB7CiAgICAgIG1hcmtlck9wdGlvbnMuZWxlbWVudCA9IHRoaXMuJHNsb3RzLm1hcmtlclswXS5lbG07CiAgICB9CgogICAgdGhpcy5tYXJrZXIgPSBuZXcgdGhpcy5tYXBib3guTWFya2VyKG1hcmtlck9wdGlvbnMpOwoKICAgIGlmICh0aGlzLiRsaXN0ZW5lcnNbInVwZGF0ZTpjb29yZGluYXRlcyJdKSB7CiAgICAgIHRoaXMubWFya2VyLm9uKCJkcmFnZW5kIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdmFyIG5ld0Nvb3JkaW5hdGVzOwoKICAgICAgICBpZiAoX3RoaXMuY29vcmRpbmF0ZXMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgbmV3Q29vcmRpbmF0ZXMgPSBbZXZlbnQudGFyZ2V0Ll9sbmdMYXQubG5nLCBldmVudC50YXJnZXQuX2xuZ0xhdC5sYXRdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXdDb29yZGluYXRlcyA9IGV2ZW50LnRhcmdldC5fbG5nTGF0OwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuJGVtaXQoInVwZGF0ZTpjb29yZGluYXRlcyIsIG5ld0Nvb3JkaW5hdGVzKTsKICAgICAgfSk7CiAgICB9CgogICAgdmFyIGV2ZW50TmFtZXMgPSBPYmplY3Qua2V5cyhtYXJrZXJFdmVudHMpOwogICAgdGhpcy4kX2JpbmRTZWxmRXZlbnRzKGV2ZW50TmFtZXMsIHRoaXMubWFya2VyKTsKICAgIHRoaXMuaW5pdGlhbCA9IGZhbHNlOwogICAgdGhpcy4kX2FkZE1hcmtlcigpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLm1hcCAhPT0gdW5kZWZpbmVkICYmIHRoaXMubWFya2VyICE9PSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5tYXJrZXIucmVtb3ZlKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAkX2FkZE1hcmtlcjogZnVuY3Rpb24gJF9hZGRNYXJrZXIoKSB7CiAgICAgIHRoaXMubWFya2VyLnNldExuZ0xhdCh0aGlzLmNvb3JkaW5hdGVzKS5hZGRUbyh0aGlzLm1hcCk7CiAgICAgIHRoaXMuJF9iaW5kTWFya2VyRE9NRXZlbnRzKCk7CiAgICAgIHRoaXMuJF9lbWl0RXZlbnQoImFkZGVkIiwgewogICAgICAgIG1hcmtlcjogdGhpcy5tYXJrZXIKICAgICAgfSk7CiAgICB9LAogICAgJF9lbWl0U2VsZkV2ZW50OiBmdW5jdGlvbiAkX2VtaXRTZWxmRXZlbnQoZXZlbnQpIHsKICAgICAgdGhpcy4kX2VtaXRNYXBFdmVudChldmVudCwgewogICAgICAgIG1hcmtlcjogdGhpcy5tYXJrZXIKICAgICAgfSk7CiAgICB9LAogICAgJF9iaW5kTWFya2VyRE9NRXZlbnRzOiBmdW5jdGlvbiAkX2JpbmRNYXJrZXJET01FdmVudHMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgT2JqZWN0LmtleXModGhpcy4kbGlzdGVuZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyhtYXJrZXJET01FdmVudHMpLmluY2x1ZGVzKGtleSkpIHsKICAgICAgICAgIF90aGlzMi5tYXJrZXIuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihrZXksIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBfdGhpczIuJF9lbWl0U2VsZkV2ZW50KGV2ZW50KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7CiAgICAgIHRoaXMubWFya2VyLnJlbW92ZSgpOwogICAgICB0aGlzLiRfZW1pdEV2ZW50KCJyZW1vdmVkIik7CiAgICB9LAogICAgdG9nZ2xlUG9wdXA6IGZ1bmN0aW9uIHRvZ2dsZVBvcHVwKCkgewogICAgICByZXR1cm4gdGhpcy5tYXJrZXIudG9nZ2xlUG9wdXAoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Marker.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"display: none\">\n    <!-- slot for custom marker -->\n    <slot name=\"marker\" />\n    <!-- slot for popup -->\n    <slot v-if=\"marker\" />\n  </div>\n</template>\n\n<script>\nimport withEvents from \"../../lib/withEvents\";\nimport withSelfEvents from \"./withSelfEvents\";\n\nconst markerEvents = {\n  drag: \"drag\",\n  dragstart: \"dragstart\",\n  dragend: \"dragend\"\n};\n\nconst markerDOMEvents = {\n  click: \"click\",\n  mouseenter: \"mouseenter\",\n  mouseleave: \"mouseleave\"\n};\n\nexport default {\n  name: \"MapMarker\",\n  mixins: [withEvents, withSelfEvents],\n\n  inject: [\"mapbox\", \"map\"],\n\n  provide() {\n    const self = this;\n    return {\n      get marker() {\n        return self.marker;\n      }\n    };\n  },\n\n  props: {\n    // mapbox marker options\n    offset: {\n      type: [Object, Array],\n      default: () => [0, 0]\n    },\n    coordinates: {\n      type: Array,\n      required: true\n    },\n    color: {\n      type: String\n    },\n    anchor: {\n      type: String,\n      default: \"center\"\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      initial: true,\n      marker: undefined\n    };\n  },\n\n  watch: {\n    coordinates(lngLat) {\n      if (this.initial) return;\n      this.marker.setLngLat(lngLat);\n    },\n    draggable(next) {\n      if (this.initial) return;\n      this.marker.setDraggable(next);\n    }\n  },\n\n  mounted() {\n    const markerOptions = {\n      ...this.$props\n    };\n    if (this.$slots.marker) {\n      markerOptions.element = this.$slots.marker[0].elm;\n    }\n    this.marker = new this.mapbox.Marker(markerOptions);\n\n    if (this.$listeners[\"update:coordinates\"]) {\n      this.marker.on(\"dragend\", event => {\n        let newCoordinates;\n        if (this.coordinates instanceof Array) {\n          newCoordinates = [event.target._lngLat.lng, event.target._lngLat.lat];\n        } else {\n          newCoordinates = event.target._lngLat;\n        }\n        this.$emit(\"update:coordinates\", newCoordinates);\n      });\n    }\n\n    const eventNames = Object.keys(markerEvents);\n    this.$_bindSelfEvents(eventNames, this.marker);\n\n    this.initial = false;\n    this.$_addMarker();\n  },\n\n  beforeDestroy() {\n    if (this.map !== undefined && this.marker !== undefined) {\n      this.marker.remove();\n    }\n  },\n\n  methods: {\n    $_addMarker() {\n      this.marker.setLngLat(this.coordinates).addTo(this.map);\n      this.$_bindMarkerDOMEvents();\n      this.$_emitEvent(\"added\", { marker: this.marker });\n    },\n\n    $_emitSelfEvent(event) {\n      this.$_emitMapEvent(event, { marker: this.marker });\n    },\n\n    $_bindMarkerDOMEvents() {\n      Object.keys(this.$listeners).forEach(key => {\n        if (Object.values(markerDOMEvents).includes(key)) {\n          this.marker._element.addEventListener(key, event => {\n            this.$_emitSelfEvent(event);\n          });\n        }\n      });\n    },\n\n    remove() {\n      this.marker.remove();\n      this.$_emitEvent(\"removed\");\n    },\n\n    togglePopup() {\n      return this.marker.togglePopup();\n    }\n  }\n};\n</script>\n"],"sourceRoot":"node_modules/vue-mapbox/src/components/UI"}]}